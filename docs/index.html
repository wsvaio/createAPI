<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@wsvaio/api</title><meta name="description" content="Documentation for @wsvaio/api"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@wsvaio/api</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@wsvaio/api</h2></div><div class="tsd-panel tsd-typography"><center>

<a id="md:wsvaioapi" class="tsd-anchor"></a><h1><a href="#md:wsvaioapi">@wsvaio/api</a></h1><p>ä¸€ä¸ªä½¿ç”¨ TypeScript ç¼–å†™ï¼Œ<strong>é€šç”¨</strong>çš„ç½‘ç»œè¯·æ±‚åº“ï¼Œä¸»è¦ç”¨äºå¤„ç† HTTP è¯·æ±‚</p>
<p><a href="https://www.npmjs.com/package/@wsvaio/api"><img src="https://img.shields.io/bundlephobia/minzip/@wsvaio/api/latest" alt="Size"></a> <a href="https://www.npmjs.com/package/@wsvaio/api"><img src="https://img.shields.io/npm/v/@wsvaio/api" alt="Version"></a> <a href="https://www.npmjs.com/package/@wsvaio/api"><img src="https://img.shields.io/github/languages/top/wsvaio/api" alt="Languages"></a> <a href="https://www.npmjs.com/package/@wsvaio/api"><img src="https://img.shields.io/npm/l/@wsvaio/api" alt="License"></a> <a href="https://github.com/wsvaio/api"><img src="https://img.shields.io/github/stars/wsvaio/api" alt="Star"></a> <a href="https://www.npmjs.com/package/@wsvaio/api"><img src="https://img.shields.io/npm/dm/@wsvaio/api" alt="Download"></a></p>
</center>

<a id="md:ç‰¹æ€§" class="tsd-anchor"></a><h2><a href="#md:ç‰¹æ€§">ç‰¹æ€§</a></h2><ul>
<li>âœ¨ é€šç”¨çš„ç°ä»£ç½‘ç»œè¯·æ±‚åº“ï¼Œå¯ä»¥å…¼å®¹å¤šç§ç¯å¢ƒ</li>
<li>ğŸ‰ ä½¿ç”¨ TypeScript ç¼–å†™ï¼Œå®Œå–„çš„ç±»å‹æ”¯æŒ</li>
<li>ğŸ¨ æ”¯æŒè¯·æ±‚ä¸­é—´ä»¶ï¼Œæ–¹ä¾¿æ‰©å±•åŠŸèƒ½</li>
<li>ğŸ‡ æä¾›åˆ›å»º APIã€è®¾ç½®å…¨å±€ä¸Šä¸‹æ–‡ã€æ‰§è¡Œè¯·æ±‚ç­‰åŠŸèƒ½</li>
<li>ğŸ æ”¯æŒåˆå¹¶ä¸Šä¸‹æ–‡å’Œé…ç½®ï¼Œæ–¹ä¾¿å®šåˆ¶è¯·æ±‚è¡Œä¸º</li>
<li>ğŸ¤– å†…ç½®å®ç”¨ä¸­é—´ä»¶ï¼Œå¦‚ URL æ‹¼æ¥ã€è¿”å›ç»“æœæ£€æŸ¥ç­‰</li>
<li>ğŸ‘¾ æ”¯æŒæ—¥å¿—è¾“å‡ºï¼Œæ–¹ä¾¿è°ƒè¯•å’ŒæŸ¥çœ‹è¯·æ±‚æƒ…å†µ</li>
<li>ğŸ² æä¾›æŸ¯é‡ŒåŒ–é…ç½®ï¼Œä¼˜é›…çš„å°è£…æ¥å£</li>
<li>ğŸ³ æ˜“äºä½¿ç”¨ï¼Œå¸®åŠ©å¿«é€Ÿå¤„ç†å„ç§ç½‘ç»œè¯·æ±‚</li>
</ul>
<a id="md:api" class="tsd-anchor"></a><h2><a href="#md:api">API</a></h2><p><a href="https://wsvaio.github.io/api/modules.html">documentâ€¦â€¦</a></p>
<a id="md:å¿«é€Ÿä½¿ç”¨" class="tsd-anchor"></a><h2><a href="#md:å¿«é€Ÿä½¿ç”¨">å¿«é€Ÿä½¿ç”¨</a></h2><a id="md:å®‰è£…" class="tsd-anchor"></a><h3><a href="#md:å®‰è£…">å®‰è£…</a></h3><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">wsvaio</span><span class="hl-1">/</span><span class="hl-0">api</span>
</code><button>Copy</button></pre>
<a id="md:ä½¿ç”¨æ–¹æ³•" class="tsd-anchor"></a><h3><a href="#md:ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</a></h3><p>é¦–å…ˆï¼Œéœ€è¦å¼•å…¥è¯·æ±‚åº“ï¼š</p>
<pre><code><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createNativeFetch</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>æ¥ä¸‹æ¥ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª API å®ä¾‹ï¼š</p>
<pre><code class="language-javascript"><span class="hl-4">// åˆ›å»ºapiå®ä¾‹å¹¶å¸¦æœ‰ä¸¤ä¸ªè‡ªå®šä¹‰å±æ€§</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">post</span><span class="hl-1">, </span><span class="hl-6">get</span><span class="hl-1">, </span><span class="hl-6">put</span><span class="hl-1">, </span><span class="hl-6">patch</span><span class="hl-1">, </span><span class="hl-6">del</span><span class="hl-1">, </span><span class="hl-6">request</span><span class="hl-1">, </span><span class="hl-6">use</span><span class="hl-1"> } = </span><span class="hl-7">createByNativeFetch</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-0">success</span><span class="hl-1">?: </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-4">// è¯·æ±‚æˆåŠŸæ—¶çš„æ¶ˆæ¯</span><br/><span class="hl-1">    </span><span class="hl-0">noticeable</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">; </span><span class="hl-4">// æ˜¯å¦éœ€è¦é€šçŸ¥</span><br/><span class="hl-1">}&gt;({</span><br/><span class="hl-1">    </span><span class="hl-0">base:</span><span class="hl-1"> </span><span class="hl-3">&quot;https://api.example.com&quot;</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-0">log:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">noticeable:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">// headers...</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">// å…¶ä»–é…ç½®é€‰é¡¹...</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>é…ç½®è¯·æ±‚ä¸­é—´ä»¶ï¼š</p>
<pre><code class="language-javascript"><span class="hl-4">// before è¯·æ±‚å‘å‡ºå‰</span><br/><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;before&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Progress</span><span class="hl-1">.</span><span class="hl-7">start</span><span class="hl-1">());</span><br/><br/><span class="hl-4">// è®¾ç½®è¯·æ±‚token</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;before&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">auth</span><span class="hl-1"> = </span><span class="hl-7">useAuthStore</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">headers</span><span class="hl-1">.</span><span class="hl-0">Authorization</span><span class="hl-1"> = </span><span class="hl-3">`Bearer </span><span class="hl-5">${</span><span class="hl-0">auth</span><span class="hl-9">.</span><span class="hl-0">accessToken</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// after è¯·æ±‚å‘å‡ºå</span><br/><br/><span class="hl-4">// æŠ›å‡ºé”™è¯¯</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;after&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">?.</span><span class="hl-0">code</span><span class="hl-1"> != </span><span class="hl-10">200</span><span class="hl-1">) </span><span class="hl-2">throw</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Error</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">// dataæ‰å¹³åŒ–</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;after&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> (</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// error é”™è¯¯å¤„ç†</span><br/><br/><span class="hl-4">// å•ç‹¬å¤„ç†401</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;error&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">?.</span><span class="hl-0">code</span><span class="hl-1"> != </span><span class="hl-10">401</span><span class="hl-1">) </span><span class="hl-2">return</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">// handle...</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// final æ”¶å°¾</span><br/><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Progress</span><span class="hl-1">.</span><span class="hl-7">done</span><span class="hl-1">(!</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">));</span><br/><span class="hl-4">// é€šè¿‡æ‰©å±•è‡ªå®šä¹‰å±æ€§å®ç°é€šçŸ¥</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">noticeable</span><br/><span class="hl-1">    ? </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">ElNotification</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">)</span><br/><span class="hl-1">    : </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">success</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">ElNotification</span><span class="hl-1">.</span><span class="hl-7">success</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">success</span><span class="hl-1">)</span><br/><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>æ‚¨å¯ä»¥é¢„å…ˆå®šä¹‰è¯·æ±‚æ¥å£ï¼š</p>
<pre><code class="language-javascript"><span class="hl-4">// ç®€å•å®šä¹‰</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getUser</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&quot;/user/:id&quot;</span><span class="hl-1">);</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">addUser</span><span class="hl-1"> = </span><span class="hl-7">post</span><span class="hl-1">(</span><span class="hl-3">&quot;/user&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">// æˆ–è€…ä¼ å…¥ä¸€ä¸ªå¯¹è±¡</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">editUser</span><span class="hl-1"> = </span><span class="hl-7">put</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;/user/:id&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">param:</span><span class="hl-1"> { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> }, </span><span class="hl-4">// paramå‚æ•°</span><br/><span class="hl-1">  </span><span class="hl-0">body:</span><span class="hl-1"> { </span><span class="hl-0">username:</span><span class="hl-1"> </span><span class="hl-3">&quot;oiavsw&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">config:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-4">// å¿…é¡»è®¾ç½®config=trueï¼Œå¦åˆ™å°†ä¼šæ‰§è¡Œè¯·æ±‚</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>ç°åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ api å®ä¾‹å‘èµ·è¯·æ±‚ï¼š</p>
<pre><code class="language-javascript"><span class="hl-4">// ç›´æ¥å‘é€è¯·æ±‚</span><br/><span class="hl-7">get</span><span class="hl-1">({ </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;/users&quot;</span><span class="hl-1"> }).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// POST è¯·æ±‚</span><br/><span class="hl-7">post</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;/users&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;å¼ ä¸‰&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">age:</span><span class="hl-1"> </span><span class="hl-10">30</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// å‘é€é¢„å…ˆå®šä¹‰çš„è¯·æ±‚</span><br/><span class="hl-7">getUser</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">// è¯·æ±‚åæ˜¾ç¤ºé€šçŸ¥</span><br/><span class="hl-1">    </span><span class="hl-0">noticeable:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">// è¯·æ±‚æˆåŠŸæ—¶çš„é€šçŸ¥</span><br/><span class="hl-1">    </span><span class="hl-0">success:</span><span class="hl-1"> </span><span class="hl-3">&quot;è·å–æˆåŠŸ&quot;</span><br/><span class="hl-1">    </span><span class="hl-4">// paramå‚æ•°</span><br/><span class="hl-1">    </span><span class="hl-0">param</span><span class="hl-1">: { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> },</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// å“åº”</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">addUser</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">// body å‚æ•°</span><br/><span class="hl-1">    </span><span class="hl-0">body:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">username:</span><span class="hl-1"> </span><span class="hl-3">&#39;wsvaio&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// å“åº”</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">editUser</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:é€šç”¨æ€§" class="tsd-anchor"></a><h2><a href="#md:é€šç”¨æ€§">é€šç”¨æ€§</a></h2><p>é€šè¿‡æä¾›ä¸åŒçš„requesterï¼Œå¯å…¼å®¹ä¸åŒçš„å¹³å°</p>
<p>å†…ç½®ï¼š</p>
<ul>
<li>nativeFetchRequester //åŸç”Ÿfetch</li>
<li>uniappRequester // uniappç¯å¢ƒä¸‹çš„request</li>
<li>nuxtFetchRequester // nuxtç¯å¢ƒä¸‹çš„$fetch</li>
</ul>
<p>ä¾‹å¦‚è¦å…¼å®¹uniappï¼Œåˆ™å¯ä»¥ä½¿ç”¨uniappRequester</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">create</span><span class="hl-1">, </span><span class="hl-0">uniappRequester</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">get</span><span class="hl-1"> } = </span><span class="hl-7">create</span><span class="hl-1">(</span><span class="hl-0">uniappRequester</span><span class="hl-1">)({</span><br/><span class="hl-1">  </span><span class="hl-0">base:</span><span class="hl-1"> </span><span class="hl-3">&quot;http://localhost&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">log:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">get</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">q:</span><span class="hl-1"> { </span><span class="hl-0">q1:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>createByNtiveFetch({...}) ç›¸å½“äº create(nativeFetchRequester)({...})</p>
<a id="md:è‡ªå®šä¹‰requester" class="tsd-anchor"></a><h2><a href="#md:è‡ªå®šä¹‰requester">è‡ªå®šä¹‰requester</a></h2><p>é€šè¿‡ defineRequester å¯ä»¥è‡ªå®šä¹‰è¯·æ±‚å™¨ï¼Œä¾‹å¦‚ä¸€ä¸ªç®€æ˜“çš„fetchè¯·æ±‚å™¨ï¼š</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">defineRequester</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">myNativeFetchRequester</span><span class="hl-1"> = </span><span class="hl-7">defineRequester</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-7">async</span><span class="hl-1"> (</span><br/><span class="hl-1">    </span><span class="hl-0">ctx</span><span class="hl-1">: </span><span class="hl-7">CoreContext</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">      </span><span class="hl-4">// â€¦â€¦è‡ªå®šä¹‰ç±»å‹</span><br/><span class="hl-1">    }&gt;</span><br/><span class="hl-1">  ) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-7">fetch</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">// å¿…é¡»è¿”å›è¿™ä¸‰ä¸ªå±æ€§</span><br/><span class="hl-1">      </span><span class="hl-0">data:</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-7">json</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-0">message:</span><span class="hl-1"> </span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">statusText</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-0">status:</span><span class="hl-1"> </span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">status</span><span class="hl-1">,</span><br/><br/><span class="hl-1">      </span><span class="hl-4">// å¯ä»¥é¢å¤–è¿”å›ä¸€äº›è‡ªå®šä¹‰å±æ€§</span><br/><span class="hl-1">      </span><span class="hl-0">test:</span><span class="hl-1"> </span><span class="hl-3">&quot;my requester&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p><strong>é€šç”¨æ€§çš„æ ¸å¿ƒå°±æ˜¯é€šè¿‡å®šä¹‰ä¸åŒç¯å¢ƒä¸‹çš„requesteræ¥å®ç°çš„</strong></p>
<a id="md:ä¸­é—´ä»¶" class="tsd-anchor"></a><h2><a href="#md:ä¸­é—´ä»¶">ä¸­é—´ä»¶</a></h2><p>æœ¬è¯·æ±‚åº“æ”¯æŒä½¿ç”¨ä¸­é—´ä»¶æ¥æ‰©å±•åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š</p>
<a id="md:è¯·æ±‚å‰ä¸­é—´ä»¶" class="tsd-anchor"></a><h3><a href="#md:è¯·æ±‚å‰ä¸­é—´ä»¶">è¯·æ±‚å‰ä¸­é—´ä»¶</a></h3><pre><code class="language-javascript"><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;before&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;è¯·æ±‚å‰&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:è¯·æ±‚åä¸­é—´ä»¶" class="tsd-anchor"></a><h3><a href="#md:è¯·æ±‚åä¸­é—´ä»¶">è¯·æ±‚åä¸­é—´ä»¶</a></h3><pre><code class="language-javascript"><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;after&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;è¯·æ±‚å&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:é”™è¯¯å¤„ç†ä¸­é—´ä»¶" class="tsd-anchor"></a><h3><a href="#md:é”™è¯¯å¤„ç†ä¸­é—´ä»¶">é”™è¯¯å¤„ç†ä¸­é—´ä»¶</a></h3><pre><code class="language-javascript"><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;error&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;é”™è¯¯å¤„ç†&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:æœ€ç»ˆå¤„ç†ä¸­é—´ä»¶" class="tsd-anchor"></a><h3><a href="#md:æœ€ç»ˆå¤„ç†ä¸­é—´ä»¶">æœ€ç»ˆå¤„ç†ä¸­é—´ä»¶</a></h3><pre><code class="language-javascript"><span class="hl-0">api</span><span class="hl-1">.</span><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&quot;æœ€ç»ˆå¤„ç†&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:æŸ¯é‡ŒåŒ–é…ç½®" class="tsd-anchor"></a><h2><a href="#md:æŸ¯é‡ŒåŒ–é…ç½®">æŸ¯é‡ŒåŒ–é…ç½®</a></h2><p>getã€post ç­‰httpæ–¹æ³•æ˜¯æŸ¯é‡ŒåŒ–çš„ï¼Œå¯ä»¥æ— é™é€’å½’ï¼Œä¸“é—¨ç”¨äºå°è£…æ¥å£ã€‚å¿…é¡»è®¾ç½® { config: true } æ‰ä¼šé€’å½’ä¸‹å»ï¼Œå¦åˆ™å°†ä¼šæ‰§è¡Œè¯·æ±‚</p>
<pre><code class="language-typescript"><span class="hl-4">// åˆ›å»ºé…ç½®</span><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createByNativeFetch</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">get</span><span class="hl-1">, </span><span class="hl-6">request</span><span class="hl-1"> } = </span><span class="hl-7">createByNativeFetch</span><span class="hl-1">();</span><br/><span class="hl-4">// æŸ¯é‡ŒåŒ–é…ç½®</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getTest1</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">({ </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;/test&quot;</span><span class="hl-1">, </span><span class="hl-0">config:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> });</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getTest2</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">({ </span><span class="hl-0">query:</span><span class="hl-1"> { </span><span class="hl-0">q1:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> }, </span><span class="hl-0">config:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })({ </span><span class="hl-0">param:</span><span class="hl-1"> { </span><span class="hl-0">p1:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> }, </span><span class="hl-0">config:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })({</span><br/><span class="hl-1">  </span><span class="hl-0">body:</span><span class="hl-1"> { </span><span class="hl-0">b1:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">config:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getTest3</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&quot;/test&quot;</span><span class="hl-1">); </span><span class="hl-4">// ç›¸å½“äº { path: &#39;/test&#39;, config: true }</span><br/><span class="hl-4">// å‘é€è¯·æ±‚</span><br/><span class="hl-7">getTest1</span><span class="hl-1">({ </span><span class="hl-0">query:</span><span class="hl-1"> { </span><span class="hl-0">p1:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> } }).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">));</span><br/><span class="hl-7">getTest2</span><span class="hl-1">({ </span><span class="hl-0">query:</span><span class="hl-1"> { </span><span class="hl-0">p2:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1"> } }).</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">));</span><br/><span class="hl-7">getTest3</span><span class="hl-1">().</span><span class="hl-7">then</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">data</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// è·å–context</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">context</span><span class="hl-1"> = </span><span class="hl-7">getTest3</span><span class="hl-1">();</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">context</span><span class="hl-1">)</span><br/><span class="hl-4">// è·å–data</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">data</span><span class="hl-1"> = </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">context</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<a id="md:typescirpt" class="tsd-anchor"></a><h2><a href="#md:typescirpt">Typescirpt</a></h2><p>ç±»å‹æ”¯æŒï¼ä¸åŒçš„requesterä¹Ÿä¼šæœ‰ä¸åŒçš„ç±»å‹</p>
<p>æŸ¯é‡ŒåŒ–çš„æ³›å‹æ”¯æŒ</p>
<pre><code class="language-typescript"><span class="hl-4">// æ³›å‹æ”¯æŒï¼Œå¯æ— é™é€’å½’é…ç½®ï¼Œå¯¹å½“å‰æ— å½±å“ï¼Œå¯¹é€’å½’çš„ä¸‹ä¸€çº§æœ‰å½±å“ï¼Œåç»­åˆ™éƒ½ä¸ºå¯é€‰</span><br/><span class="hl-4">// data ä¸ºç‰¹æ®Šä¿ç•™å­—æ®µï¼Œä¸ä¼šä½œç”¨ï¼Œä½†ä¼šå½±å“è¿”å›å€¼çš„ç±»å‹</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getUser</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-0">body</span><span class="hl-1">: {}; </span><span class="hl-4">// é…ç½®bodyç±»å‹</span><br/><span class="hl-1">  </span><span class="hl-0">query</span><span class="hl-1">: {}; </span><span class="hl-4">// é…ç½®queryç±»å‹</span><br/><span class="hl-1">  </span><span class="hl-0">param</span><span class="hl-1">: {}; </span><span class="hl-4">// é…ç½®paramç±»å‹</span><br/><span class="hl-1">  </span><span class="hl-0">data</span><span class="hl-1">: {}; </span><span class="hl-4">// é…ç½®dataè¿”å›ç»“æœ</span><br/><span class="hl-1">}&gt;(</span><span class="hl-3">&quot;/user&quot;</span><span class="hl-1">);</span><br/><span class="hl-4">// æ”¯æŒé€’å½’</span><br/><span class="hl-7">getUser</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-0">body</span><span class="hl-1">: {};</span><br/><span class="hl-1">}&gt;({});</span>
</code><button>Copy</button></pre>
<a id="md:æ‰©å±•ã€ç»§æ‰¿-api-å®ä¾‹" class="tsd-anchor"></a><h2><a href="#md:æ‰©å±•ã€ç»§æ‰¿-api-å®ä¾‹">æ‰©å±•ã€ç»§æ‰¿ API å®ä¾‹</a></h2><p>å°†è¦ç»§æ‰¿çš„ctxä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå³å¯æ‰©å±•ä¸€ä¸ªæ–°çš„ API å®ä¾‹ï¼š</p>
<pre><code class="language-typescript"><span class="hl-4">// åˆ›å»ºé…ç½®</span><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createNativeFetchAPI</span><span class="hl-1">, </span><span class="hl-0">mergeContext</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">ctx</span><span class="hl-1"> } = </span><span class="hl-7">createNativeFetchAPI</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">baseURL:</span><span class="hl-1"> </span><span class="hl-3">&quot;/api&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// ç»§æ‰¿çˆ¶çº§çš„é…ç½®</span><br/><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">get</span><span class="hl-1"> } = </span><span class="hl-7">createNativeFetchAPI</span><span class="hl-1">({</span><br/><span class="hl-1">  ...</span><span class="hl-0">ctx</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">// ç”šè‡³å¤šä¸ªçˆ¶çº§</span><br/><span class="hl-1">  ...</span><span class="hl-7">mergeContext</span><span class="hl-1">(</span><span class="hl-0">ctx1</span><span class="hl-1">, </span><span class="hl-0">ctx2</span><span class="hl-1">, </span><span class="hl-0">ctx3</span><span class="hl-1">...),</span><br/><span class="hl-1">  </span><span class="hl-0">other:</span><span class="hl-1"> {},</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// å‘é€è¯·æ±‚</span><br/><span class="hl-7">get</span><span class="hl-1">({ </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;/test&quot;</span><span class="hl-1"> });</span>
</code><button>Copy</button></pre>
<a id="md:æ—¥å¿—æ‰“å°" class="tsd-anchor"></a><h2><a href="#md:æ—¥å¿—æ‰“å°">æ—¥å¿—æ‰“å°</a></h2><pre><code class="language-typescript"><span class="hl-4">// åˆ›å»ºé…ç½®</span><br/><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createByNativeFetch</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">get</span><span class="hl-1"> } = </span><span class="hl-7">createByNativeFetch</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">log:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-4">// æ—¥å¿—æ‰“å°</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:é¢å¤–æ‰©å±•ç¤ºä¾‹" class="tsd-anchor"></a><h2><a href="#md:é¢å¤–æ‰©å±•ç¤ºä¾‹">é¢å¤–æ‰©å±•ç¤ºä¾‹</a></h2><p>é€šè¿‡è‡ªå®šä¹‰ç±»å‹+ä¸­é—´ä»¶+æŸ¯é‡ŒåŒ–é…ç½®ç­‰ï¼Œå¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚è¿‡ç¨‹ï¼Œç”šè‡³æ·»åŠ ä¸€äº›é¢å¤–çš„å®ç”¨åŠŸèƒ½</p>
<p>åªæœ‰æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰åšä¸åˆ°</p>
<p><strong>æ•´ä½“æ€è·¯</strong></p>
<p>é€šè¿‡è‡ªå®šä¹‰ç±»å‹ï¼Œè¦æ±‚è°ƒç”¨è€…å¯ä»¥ä¼ å…¥ä¸€äº›è‡ªå®šä¹‰å±æ€§</p>
<p>åœ¨ä¸­é—´ä»¶ä¸‹å¯¹å®ç°ç›¸å…³åŠŸèƒ½ï¼Œä¸è‡ªå®šä¹‰å±æ€§å®ç°è”åŠ¨</p>
<h3 id="ä¸ºquerybodyparamæ·»åŠ åˆ«åæ”¯">ä¸ºqueryã€bodyã€paramæ·»åŠ åˆ«åæ”¯æŒqã€bã€p</h3>

<p>åªéœ€è¦åœ¨beforeä¸­é—´ä»¶å°†qã€bã€pä¸queryã€bodyã€paramèµ‹å€¼ä¾¿å¯</p>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">createByNativeFetch</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@wsvaio/api&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">post</span><span class="hl-1">, </span><span class="hl-6">get</span><span class="hl-1">, </span><span class="hl-6">put</span><span class="hl-1">, </span><span class="hl-6">patch</span><span class="hl-1">, </span><span class="hl-6">del</span><span class="hl-1">, </span><span class="hl-6">request</span><span class="hl-1">, </span><span class="hl-6">use</span><span class="hl-1">, </span><span class="hl-6">ctx</span><span class="hl-1"> } = </span><span class="hl-7">createByNativeFetch</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-0">b</span><span class="hl-1">?: </span><span class="hl-8">Record</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">, </span><span class="hl-8">any</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">q</span><span class="hl-1">?: </span><span class="hl-8">Record</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">, </span><span class="hl-8">any</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">p</span><span class="hl-1">?: </span><span class="hl-8">Record</span><span class="hl-1">&lt;</span><span class="hl-8">any</span><span class="hl-1">, </span><span class="hl-8">any</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}&gt;({</span><br/><span class="hl-1">  </span><span class="hl-4">// ...</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;before&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">q</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-7">assign</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">query</span><span class="hl-1">, </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">q</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">b</span><span class="hl-1"> &amp;&amp; !</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1"> &amp;&amp; (</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">body</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">b</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">p</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-7">assign</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">param</span><span class="hl-1">, </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">p</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">// å°è£…æ¥å£ï¼Œä¼ å…¥æ³›å‹ï¼Œåªéœ€è¦å®šä¹‰pçš„ç±»å‹ä¾¿å¯</span><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getUserInfo</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">&lt;{ </span><span class="hl-0">p</span><span class="hl-1">: { </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> } }&gt;(</span><span class="hl-3">&quot;/user/:id&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// ä½¿ç”¨æ—¶ä¼šæœ‰ç±»å‹æ ¡éªŒï¼Œå¿…é¡»ä¼ å…¥p.idï¼Œå¦åˆ™æŠ¥é”™</span><br/><span class="hl-7">getUserInfo</span><span class="hl-1">({ </span><span class="hl-0">p:</span><span class="hl-1"> { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> } });</span>
</code><button>Copy</button></pre>
<a id="md:å…¨å±€çš„é”™è¯¯æ¶ˆæ¯é€šçŸ¥æˆ–æˆåŠŸæ¶ˆæ¯é€šçŸ¥" class="tsd-anchor"></a><h3><a href="#md:å…¨å±€çš„é”™è¯¯æ¶ˆæ¯é€šçŸ¥æˆ–æˆåŠŸæ¶ˆæ¯é€šçŸ¥">å…¨å±€çš„é”™è¯¯æ¶ˆæ¯é€šçŸ¥æˆ–æˆåŠŸæ¶ˆæ¯é€šçŸ¥</a></h3><p>è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯ï¼ŒæˆåŠŸæ¶ˆæ¯ï¼Œå¯ä»¥è‡ªå®šä¹‰æ˜¯å¦é€šçŸ¥</p>
<pre><code class="language-ts"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">get</span><span class="hl-1">, </span><span class="hl-6">use</span><span class="hl-1"> } = </span><span class="hl-7">createByNativeFetch</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-0">sucMsg</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1"> | </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-4">// æ“ä½œæˆåŠŸæ—¶çš„æ¶ˆæ¯ï¼Œä¼ å…¥å¸ƒå°”å€¼ä»£è¡¨è¯·æ±‚æˆåŠŸæ˜¯å¦é€šçŸ¥ctx.messageï¼Œä¼ å…¥å­—ç¬¦ä¸²ä»£è¡¨è¯·æ±‚æˆåŠŸåé€šçŸ¥è¯¥å†…å®¹</span><br/><span class="hl-1">  </span><span class="hl-0">errMsg</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1"> | </span><span class="hl-8">string</span><span class="hl-1">; </span><span class="hl-4">// æ“ä½œå¤±è´¥æ—¶çš„æ¶ˆæ¯ï¼Œä¼ å…¥å¸ƒå°”å€¼ä»£è¡¨è¯·æ±‚æŠ¥é”™æ˜¯å¦é€šçŸ¥ctx.messageï¼Œä¼ å…¥å­—ç¬¦ä¸²ä»£è¡¨è¯·æ±‚æŠ¥é”™åé€šçŸ¥è¯¥å†…å®¹</span><br/><span class="hl-1">}&gt;({</span><br/><span class="hl-1">  </span><span class="hl-4">// ...</span><br/><br/><span class="hl-1">  </span><span class="hl-0">errMsg:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-4">// é»˜è®¤è¿›è¡Œé”™è¯¯é€šçŸ¥</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// ç»Ÿä¸€message</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// å¯ä»¥ä¸ºä¸šåŠ¡msgï¼Œæˆ–æ˜¯httpçŠ¶æ€ï¼Œç­‰ç­‰ç”±å®é™…ä¸šåŠ¡å†³å®š</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">.</span><span class="hl-0">msg</span><span class="hl-1"> || </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">statusText</span><span class="hl-1"> || </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><span class="hl-4">// æˆåŠŸæç¤ºï¼Œä¼˜å…ˆçº§ä¸ºctx.sucMsg &gt; ctx.message</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (!</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">sucMsg</span><span class="hl-1"> || </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">message</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">sucMsg</span><span class="hl-1"> === </span><span class="hl-5">true</span><span class="hl-1"> || </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">sucMsg</span><span class="hl-1"> !== </span><span class="hl-3">&quot;string&quot;</span><span class="hl-1"> ? </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1"> : </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">sucMsg</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">// è¿™é‡Œç”¨elementç»„ä»¶çš„apiè¿›è¡Œé€šçŸ¥</span><br/><span class="hl-1">  </span><span class="hl-0">ElMessage</span><span class="hl-1">.</span><span class="hl-7">success</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-4">// é”™è¯¯æç¤ºï¼Œä¼˜å…ˆçº§ä¸ºctx.errMsg &gt; ctx.message</span><br/><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;final&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (!</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">errMsg</span><span class="hl-1"> || !</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">message</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">errMsg</span><span class="hl-1"> === </span><span class="hl-5">true</span><span class="hl-1"> || </span><span class="hl-5">typeof</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">errMsg</span><span class="hl-1"> !== </span><span class="hl-3">&quot;string&quot;</span><span class="hl-1"> ? </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1"> : </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">errMsg</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">// è¿™é‡Œç”¨elementç»„ä»¶çš„apiè¿›è¡Œé€šçŸ¥</span><br/><span class="hl-1">  </span><span class="hl-0">ElMessage</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">message</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// å®šä¹‰æ¥å£</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">getUserInfo</span><span class="hl-1"> = </span><span class="hl-7">get</span><span class="hl-1">&lt;{ </span><span class="hl-0">param</span><span class="hl-1">: { </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> } }&gt;(</span><span class="hl-3">&quot;/user/:id&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// ä½¿ç”¨</span><br/><span class="hl-4">// è¯·æ±‚æˆåŠŸåä¼šé€šçŸ¥â€œè·å–æˆåŠŸâ€ï¼Œè¯·æ±‚å¤±è´¥åä¼šé€šçŸ¥â€œè·å–å¤±è´¥â€</span><br/><span class="hl-7">getUserInfo</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">param:</span><span class="hl-1"> { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">sucMsg:</span><span class="hl-1"> </span><span class="hl-3">&quot;è·å–æˆåŠŸ&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">errMsg:</span><span class="hl-1"> </span><span class="hl-3">&quot;è·å–å¤±è´¥&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-4">// è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥éƒ½ä¸ä¼šæœ‰é€šçŸ¥</span><br/><span class="hl-7">getUserInfo</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">param:</span><span class="hl-1"> { </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">sucMsg:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">errMsg:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:20æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ" class="tsd-anchor"></a><h2><a href="#md:20æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ">2.0æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ</a></h2><ul>
<li><strong>é€šè¿‡ä¸åŒçš„requesterï¼Œæ”¯æŒä¸åŒçš„è¿è¡Œç¯å¢ƒ</strong>ï¼Œä¾‹å¦‚åŸç”Ÿwebä½¿ç”¨nativeFetachRequesterã€uniappä½¿ç”¨uniappRequester</li>
<li>è‡ªå®šä¹‰requesterã€é€šè¿‡defineRequesterå¯ä»¥è‡ªå®šä¹‰è¯·æ±‚å™¨ï¼Œæ‚¨ç”šè‡³å¯ä»¥å°†ajax(xhr)ä½œä¸ºè¯·æ±‚å™¨ä½¿ç”¨ï¼å¹¶ä¸”æœ‰å®Œå–„çš„ç±»å‹æ”¯æŒï¼</li>
<li>ä»£ç ã€ç±»å‹è¿‘ä¹å®Œå…¨çš„é‡æ„ï¼Œä»£ç ç»“æ„æ›´åŠ åˆç†ï¼Œç±»å‹æ”¯æŒæ›´åŠ å®Œå–„</li>
<li>logæ ·å¼æ›´æ–°ï¼Œæ–°å¢è¯·æ±‚è€—æ—¶çš„å±•ç¤º</li>
<li>baseURL å’Œ url æ›´æ”¹ä¸º base å’Œ pathï¼ŒåŒæ—¶æ·»åŠ äº†fullPathï¼Œurlæ›´æ”¹<ul>
<li>baseï¼šåŸbaseURLï¼Œè¯·æ±‚åŸºæœ¬è·¯å¾„æˆ–é“¾æ¥</li>
<li>pathï¼šåŸurlï¼Œè¯·æ±‚è·¯å¾„</li>
<li>fullPathï¼šqueryä¸paramæ‹¼æ¥åçš„è·¯å¾„</li>
<li>urlï¼šè¯·æ±‚çš„å®Œæ•´é“¾æ¥åœ°å€ï¼ˆbase + fullPathï¼‰</li>
</ul>
</li>
<li>å¯¹ç›¸å…³apiå‘½åæ›´æ”¹<ul>
<li>createAPI -&gt; createByNativeFetch</li>
<li>run -&gt; exec</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li><strong>æ— é™æŸ¯é‡ŒåŒ–é…ç½®å›å½’ï¼</strong>ï¼Œå¸¦æœ‰å®Œå–„çš„ç±»å‹æ”¯æŒ</li>
<li>ç§»é™¤bã€qã€pé…ç½®ï¼ˆbodyã€queryã€paramï¼‰çš„åˆ«åï¼Œä½†å¯ä»¥è‡ªå·±é€šè¿‡beforeä¸­é—´ä»¶å®ç°</li>
<li>â€¦â€¦</li>
</ul>
<a id="md:è¿ç§»è‡³20" class="tsd-anchor"></a><h2><a href="#md:è¿ç§»è‡³20">è¿ç§»è‡³2.0</a></h2><p>2.0 å¸¦æ¥äº†äº›è®¸ç ´åå¼æ›´æ–°ï¼Œä½†ä»–ä»¬å¤§å¤šæ˜¯ä¸€äº›å‘½åçš„æ›´æ–°ï¼Œè¿ç§»éš¾åº¦ä¸é«˜</p>
<ul>
<li><p>createAPI æ›´æ”¹ä¸º createByNativeFetchï¼Œè‹¥è¦ä»@wsvaio/uniappè¿ç§»ï¼Œåªéœ€è¦<code>const createAPI = create(unqippRequester)</code>å³å¯</p>
</li>
<li><p>bã€qã€pæ”¯æŒç§»é™¤ï¼Œå¯æ·»åŠ å‰ç½®ä¸­é—´ä»¶å®ç° <a href="#md:ä¸ºquerybodyparamæ·»åŠ åˆ«åæ”¯">ä¸ºqueryã€bodyã€paramæ·»åŠ åˆ«åæ”¯æŒqã€bã€p</a></p>
</li>
<li><p>baseURL å’Œ url æ›´æ”¹ä¸º base å’Œ pathï¼Œå¯é€šè¿‡å…¨å±€æ›¿æ¢è¿ç§»ï¼Œæˆ–æ·»åŠ å‰ç½®ä¸­é—´ä»¶</p>
<pre><code class="language-ts"><span class="hl-7">use</span><span class="hl-1">(</span><span class="hl-3">&quot;before&quot;</span><span class="hl-1">)(</span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">base</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">baseURL</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">path</span><span class="hl-1"> = </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// è‹¥æœ‰æŠ¥é”™å¯å¿½ç•¥</span><br/><span class="hl-1">  </span><span class="hl-5">delete</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">baseURL</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">delete</span><span class="hl-1"> </span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">url</span><span class="hl-1">;</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
</li>
<li><p>æ— é™æŸ¯é‡ŒåŒ–çš„å›å½’ï¼Œè¯·åœ¨éè°ƒç”¨é…ç½®ä¸­æ·»åŠ  <code>{ config: true }</code></p>
</li>
<li><p>æŸ¯é‡ŒåŒ–æ³›å‹ï¼ŒD -&gt; dataï¼Œè¯·ç”¨dataå£°æ˜ç±»å‹ <code>get&lt;{ D: string }&gt;(/test) -&gt; get&lt;{ data: string }&gt;(/test)</code></p>
</li>
<li><p>â€¦â€¦</p>
</li>
</ul>
<a id="md:åç»­" class="tsd-anchor"></a><h2><a href="#md:åç»­">åç»­</a></h2><ul>
<li>è€ƒè™‘æ›´æ”¹æ¶æ„ï¼ˆmonorepoï¼‰ï¼Œä¸»è¦æ˜¯å°†ä¸åŒå¹³å°çš„requesteræŠ½ç¦»å‡ºå»</li>
<li>è€ƒè™‘æ›´æ”¹åŒ…åç§°ï¼ˆå®åœ¨æƒ³ä¸å‡ºå¥½åå­—ï¼‰ï¼Œæ¬¢è¿æissue</li>
<li>æœ‰ç”Ÿä¹‹å¹´æ›´æ–°å®Œå–„çš„æ–‡æ¡£ï¼ˆvitepressï¼‰</li>
<li>æŒç»­çš„æ›´æ–°ä¼˜åŒ–ä»£ç </li>
</ul>
<a id="md:æºç " class="tsd-anchor"></a><h2><a href="#md:æºç ">æºç </a></h2><p>æºç å¯ä»¥åœ¨ <a href="https://github.com/wsvaio/api">GitHub ä»“åº“</a> ä¸­æ‰¾åˆ°ã€‚</p>
<a id="md:è´¡çŒ®" class="tsd-anchor"></a><h2><a href="#md:è´¡çŒ®">è´¡çŒ®</a></h2><p>å¦‚æœæ‚¨å‘ç°@wsvaio/api ä¸­æœ‰ä»»ä½•é—®é¢˜æˆ–ç¼ºå°‘æŸäº›åŠŸèƒ½ï¼Œè¯·éšæ—¶æäº¤é—®é¢˜æˆ–è¯·æ±‚ã€‚</p>
<p>æ¬¢è¿æ‚¨çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬æäº¤é”™è¯¯ä¿®å¤ã€æ·»åŠ æ–°åŠŸèƒ½æˆ–æ”¹è¿›æ–‡æ¡£ã€‚</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:wsvaioapi"><span>@wsvaio/api</span></a><ul><li><a href="#md:ç‰¹æ€§"><span>ç‰¹æ€§</span></a></li><li><a href="#md:api"><span>API</span></a></li><li><a href="#md:å¿«é€Ÿä½¿ç”¨"><span>å¿«é€Ÿä½¿ç”¨</span></a></li><li><ul><li><a href="#md:å®‰è£…"><span>å®‰è£…</span></a></li><li><a href="#md:ä½¿ç”¨æ–¹æ³•"><span>ä½¿ç”¨æ–¹æ³•</span></a></li></ul></li><li><a href="#md:é€šç”¨æ€§"><span>é€šç”¨æ€§</span></a></li><li><a href="#md:è‡ªå®šä¹‰requester"><span>è‡ªå®šä¹‰requester</span></a></li><li><a href="#md:ä¸­é—´ä»¶"><span>ä¸­é—´ä»¶</span></a></li><li><ul><li><a href="#md:è¯·æ±‚å‰ä¸­é—´ä»¶"><span>è¯·æ±‚å‰ä¸­é—´ä»¶</span></a></li><li><a href="#md:è¯·æ±‚åä¸­é—´ä»¶"><span>è¯·æ±‚åä¸­é—´ä»¶</span></a></li><li><a href="#md:é”™è¯¯å¤„ç†ä¸­é—´ä»¶"><span>é”™è¯¯å¤„ç†ä¸­é—´ä»¶</span></a></li><li><a href="#md:æœ€ç»ˆå¤„ç†ä¸­é—´ä»¶"><span>æœ€ç»ˆå¤„ç†ä¸­é—´ä»¶</span></a></li></ul></li><li><a href="#md:æŸ¯é‡ŒåŒ–é…ç½®"><span>æŸ¯é‡ŒåŒ–é…ç½®</span></a></li><li><a href="#md:typescirpt"><span>Typescirpt</span></a></li><li><a href="#md:æ‰©å±•ã€ç»§æ‰¿-api-å®ä¾‹"><span>æ‰©å±•ã€ç»§æ‰¿ API å®ä¾‹</span></a></li><li><a href="#md:æ—¥å¿—æ‰“å°"><span>æ—¥å¿—æ‰“å°</span></a></li><li><a href="#md:é¢å¤–æ‰©å±•ç¤ºä¾‹"><span>é¢å¤–æ‰©å±•ç¤ºä¾‹</span></a></li><li><ul><li><a href="#md:å…¨å±€çš„é”™è¯¯æ¶ˆæ¯é€šçŸ¥æˆ–æˆåŠŸæ¶ˆæ¯é€šçŸ¥"><span>å…¨å±€çš„é”™è¯¯æ¶ˆæ¯é€šçŸ¥æˆ–æˆåŠŸæ¶ˆæ¯é€šçŸ¥</span></a></li></ul></li><li><a href="#md:20æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ"><span>2.0æ›´æ–°äº†ä»€ä¹ˆï¼Ÿ</span></a></li><li><a href="#md:è¿ç§»è‡³20"><span>è¿ç§»è‡³2.0</span></a></li><li><a href="#md:åç»­"><span>åç»­</span></a></li><li><a href="#md:æºç "><span>æºç </span></a></li><li><a href="#md:è´¡çŒ®"><span>è´¡çŒ®</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@wsvaio/api</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>